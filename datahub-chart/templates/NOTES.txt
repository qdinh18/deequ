{{- /*
Welcome to your DataHub Helm chart deployment.
*/ -}}

DataHub has been successfully deployed to the {{ .Values.global.namespace }} namespace.

1. Get the application URL by running these commands:
  {{- if contains "NodePort" .Values.datahub.frontend.service.type }}
  export NODE_PORT=$(kubectl get --namespace {{ .Values.global.namespace }} -o jsonpath="{.spec.ports[0].nodePort}" services datahub-frontend)
  export NODE_IP=$(kubectl get nodes --namespace {{ .Values.global.namespace }} -o jsonpath="{.items[0].status.addresses[0].address}")
  echo "Visit DataHub at: http://$NODE_IP:$NODE_PORT"
  {{- else if contains "LoadBalancer" .Values.datahub.frontend.service.type }}
  export SERVICE_IP=$(kubectl get svc --namespace {{ .Values.global.namespace }} datahub-frontend -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
  echo "Visit DataHub at: http://$SERVICE_IP:{{ .Values.datahub.frontend.service.port }}"
  {{- else }}
  echo "Your service type is ClusterIP. To access DataHub, set up port-forwarding:"
  kubectl port-forward --namespace {{ .Values.global.namespace }} svc/datahub-frontend {{ .Values.datahub.frontend.service.port }}:{{ .Values.datahub.frontend.service.port }}
  echo "Then, access at: http://localhost:{{ .Values.datahub.frontend.service.port }}"
  {{- end }}

2. Check the status of all deployed pods:
   kubectl get pods -n {{ .Values.global.namespace }}
